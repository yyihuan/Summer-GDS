# Summer-GDS åœ†å½¢æ”¯æŒå®æ–½è®¡åˆ’

## ğŸ“… é¡¹ç›®æ—¶é—´çº¿

### æ€»ä½“å®‰æ’
- **é¡¹ç›®å‘¨æœŸ**ï¼š4å‘¨
- **é˜¶æ®µä¸€ï¼ˆåŸºç¡€å®ç°ï¼‰**ï¼šç¬¬1-2å‘¨
- **é˜¶æ®µäºŒï¼ˆåŠŸèƒ½å¢å¼ºï¼‰**ï¼šç¬¬3-4å‘¨
- **æµ‹è¯•éªŒæ”¶**ï¼šè´¯ç©¿æ•´ä¸ªè¿‡ç¨‹ï¼Œæœ€å1å‘¨é›†ä¸­éªŒæ”¶

## ğŸš€ é˜¶æ®µä¸€ï¼šåŸºç¡€åœ†å½¢æ”¯æŒï¼ˆWeek 1-2ï¼‰

### ç›®æ ‡
å®ç° UIæ–¹æ¡ˆC + ç­–ç•¥1ï¼Œå¿«é€ŸéªŒè¯ç”¨æˆ·éœ€æ±‚å’ŒæŠ€æœ¯å¯è¡Œæ€§

### Week 1: æ ¸å¿ƒåŠŸèƒ½å¼€å‘

#### Day 1-2: HTMLæ¨¡æ¿å’ŒUIç»„ä»¶
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] ä¿®æ”¹ `polygonShapeTemplate` æ¨¡æ¿ï¼Œæ·»åŠ å®šä¹‰æ–¹å¼é€‰æ‹©å™¨
- [ ] ä¿®æ”¹ `ringsShapeTemplate` æ¨¡æ¿ï¼Œæ·»åŠ å®šä¹‰æ–¹å¼é€‰æ‹©å™¨
- [ ] åˆ›å»ºåœ†å½¢å‚æ•°è¾“å…¥ç»„ä»¶
- [ ] å®ç°åŠ¨æ€æ˜¾ç¤º/éšè—é€»è¾‘çš„CSSæ ·å¼

**å…·ä½“æ–‡ä»¶ä¿®æ”¹**ï¼š
```
web_gui/templates/index.html
â”œâ”€â”€ polygonShapeTemplate (ç¬¬234-308è¡Œ)
â”œâ”€â”€ ringsShapeTemplate (ç¬¬310-397è¡Œ)
â””â”€â”€ æ–°å¢åœ†å½¢å‚æ•°è¾“å…¥åŒºåŸŸ
```

**æ ¸å¿ƒå®ç°**ï¼š
```html
<!-- åœ¨é¡¶ç‚¹è¾“å…¥åŒºåŸŸå‰æ·»åŠ å®šä¹‰æ–¹å¼é€‰æ‹© -->
<div class="row">
    <div class="col-md-6 mb-3">
        <label class="form-label">å®šä¹‰æ–¹å¼</label>
        <select class="form-select geometry-type-select"
                name="shapes[{index}].geometry_type"
                data-shape-index="{index}">
            <option value="vertices">é¡¶ç‚¹åæ ‡</option>
            <option value="circle">åœ†å½¢</option>
        </select>
    </div>
</div>

<!-- åœ†å½¢å‚æ•°åŒºåŸŸ -->
<div class="circle-params-container" data-shape-index="{index}" style="display: none;">
    <div class="row">
        <div class="col-md-3 mb-3">
            <label class="form-label">åœ†å¿ƒX (Î¼m)</label>
            <input type="number" class="form-control"
                   name="shapes[{index}].circle.center_x"
                   step="0.001" placeholder="0">
        </div>
        <div class="col-md-3 mb-3">
            <label class="form-label">åœ†å¿ƒY (Î¼m)</label>
            <input type="number" class="form-control"
                   name="shapes[{index}].circle.center_y"
                   step="0.001" placeholder="0">
        </div>
        <div class="col-md-3 mb-3">
            <label class="form-label">åŠå¾„ (Î¼m)</label>
            <input type="number" class="form-control"
                   name="shapes[{index}].circle.radius"
                   step="0.001" min="0.001" placeholder="10" required>
        </div>
        <div class="col-md-3 mb-3">
            <label class="form-label">ç²¾åº¦</label>
            <input type="number" class="form-control"
                   name="shapes[{index}].circle.segments"
                   value="64" min="8" max="256" placeholder="64">
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="form-text text-muted">
                åœ†å½¢å°†è‡ªåŠ¨è½¬æ¢ä¸ºå¤šè¾¹å½¢é¡¶ç‚¹ã€‚ç²¾åº¦è¶Šé«˜ï¼Œåœ†å½¢è¶Šå…‰æ»‘ï¼Œä½†é¡¶ç‚¹æ•°é‡ä¹Ÿè¶Šå¤šã€‚
            </small>
        </div>
    </div>
</div>

<!-- åŸæœ‰é¡¶ç‚¹è¾“å…¥åŒºåŸŸæ·»åŠ å®¹å™¨ç±» -->
<div class="vertices-container" data-shape-index="{index}">
    <div class="row">
        <div class="col-md-6 mb-3">
            <label class="form-label">é¡¶ç‚¹åæ ‡ (x1,y1:x2,y2:...)</label>
            <input type="text" class="form-control"
                   name="shapes[{index}].vertices"
                   placeholder="0,0:10,0:10,10:0,10">
        </div>
    </div>
</div>
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] HTMLæ¨¡æ¿æ­£ç¡®æ·»åŠ æ–°ç»„ä»¶
- [ ] CSSæ ·å¼æ­£å¸¸æ˜¾ç¤º
- [ ] ä¸‹æ‹‰é€‰æ‹©å™¨æ­£ç¡®åˆ‡æ¢æ˜¾ç¤ºåŒºåŸŸ

#### Day 3-4: JavaScriptæ ¸å¿ƒç®—æ³•
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] å®ç°åœ†å½¢é¡¶ç‚¹ç”Ÿæˆç®—æ³•
- [ ] å®ç°åŠ¨æ€è¡¨å•åˆ‡æ¢é€»è¾‘
- [ ] å®ç°å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
- [ ] é›†æˆåˆ°ç°æœ‰äº‹ä»¶ç»‘å®šç³»ç»Ÿ

**æ ¸å¿ƒç®—æ³•å®ç°**ï¼š
```javascript
// åœ¨ main.js ä¸­æ·»åŠ åœ†å½¢æ”¯æŒåŠŸèƒ½

// åœ†å½¢é¡¶ç‚¹ç”Ÿæˆç®—æ³•
function generateCircleVertices(centerX, centerY, radius, segments = 64) {
    if (!radius || radius <= 0) {
        throw new Error('åŠå¾„å¿…é¡»å¤§äº0');
    }

    if (segments < 8 || segments > 256) {
        segments = 64; // ä½¿ç”¨é»˜è®¤å€¼
    }

    const vertices = [];
    for (let i = 0; i < segments; i++) {
        const angle = (2 * Math.PI * i) / segments;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        vertices.push(`${x.toFixed(3)},${y.toFixed(3)}`);
    }

    return vertices.join(':');
}

// åŠ¨æ€è¡¨å•åˆ‡æ¢é€»è¾‘
function toggleGeometryInputs(shapeIndex, geometryType) {
    const container = document.querySelector(`[data-shape-index="${shapeIndex}"]`);
    if (!container) return;

    const verticesContainer = container.querySelector('.vertices-container');
    const circleContainer = container.querySelector('.circle-params-container');

    if (geometryType === 'circle') {
        verticesContainer.style.display = 'none';
        circleContainer.style.display = 'block';

        // å¦‚æœåœ†å½¢å‚æ•°ä¸ä¸ºç©ºï¼Œç«‹å³ç”Ÿæˆé¡¶ç‚¹
        updateVerticesFromCircle(shapeIndex);
    } else {
        verticesContainer.style.display = 'block';
        circleContainer.style.display = 'none';
    }
}

// ä»åœ†å½¢å‚æ•°æ›´æ–°é¡¶ç‚¹
function updateVerticesFromCircle(shapeIndex) {
    const container = document.querySelector(`[data-shape-index="${shapeIndex}"]`);
    if (!container) return;

    try {
        const centerX = parseFloat(container.querySelector('[name*="center_x"]').value) || 0;
        const centerY = parseFloat(container.querySelector('[name*="center_y"]').value) || 0;
        const radius = parseFloat(container.querySelector('[name*="radius"]').value);
        const segments = parseInt(container.querySelector('[name*="segments"]').value) || 64;

        if (radius > 0) {
            const vertices = generateCircleVertices(centerX, centerY, radius, segments);
            const verticesInput = container.querySelector('[name*="vertices"]');
            if (verticesInput) {
                verticesInput.value = vertices;
                updateJSONFromForm(); // è§¦å‘é…ç½®æ›´æ–°
            }
        }
    } catch (error) {
        console.error('åœ†å½¢é¡¶ç‚¹ç”Ÿæˆå¤±è´¥:', error);
        showAlert(`åœ†å½¢å‚æ•°é”™è¯¯: ${error.message}`, 'danger');
    }
}

// å‚æ•°éªŒè¯
function validateCircleParams(centerX, centerY, radius, segments) {
    const errors = [];

    if (isNaN(centerX) || isNaN(centerY)) {
        errors.push('åœ†å¿ƒåæ ‡å¿…é¡»æ˜¯æœ‰æ•ˆæ•°å­—');
    }

    if (!radius || radius <= 0) {
        errors.push('åŠå¾„å¿…é¡»å¤§äº0');
    }

    if (segments && (segments < 8 || segments > 256)) {
        errors.push('ç²¾åº¦å¿…é¡»åœ¨8-256ä¹‹é—´');
    }

    return errors;
}

// ä¿®æ”¹ç°æœ‰çš„ bindShapeCardEvents å‡½æ•°ï¼Œæ·»åŠ å‡ ä½•ç±»å‹åˆ‡æ¢äº‹ä»¶
function bindShapeCardEvents(cardElement, shape, index) {
    // ... ç°æœ‰ä»£ç  ...

    // ç»‘å®šå‡ ä½•ç±»å‹åˆ‡æ¢äº‹ä»¶
    const geometrySelect = cardElement.querySelector('.geometry-type-select');
    if (geometrySelect) {
        geometrySelect.addEventListener('change', function(e) {
            const geometryType = e.target.value;
            console.log(`å‡ ä½•ç±»å‹åˆ‡æ¢åˆ°: ${geometryType}, å½¢çŠ¶ç´¢å¼•: ${index}`);
            toggleGeometryInputs(index, geometryType);
        });
    }

    // ç»‘å®šåœ†å½¢å‚æ•°è¾“å…¥äº‹ä»¶
    const circleInputs = cardElement.querySelectorAll('.circle-params-container input');
    circleInputs.forEach(input => {
        input.addEventListener('input', function() {
            console.log('åœ†å½¢å‚æ•°å˜æ›´:', input.name, input.value);
            // å®æ—¶æ›´æ–°é¡¶ç‚¹ï¼ˆé˜²æŠ–å¤„ç†ï¼‰
            clearTimeout(input.updateTimeout);
            input.updateTimeout = setTimeout(() => {
                updateVerticesFromCircle(index);
            }, 300);
        });
    });
}

// ä¿®æ”¹ç°æœ‰çš„ fillShapeFormValues å‡½æ•°ï¼Œæ”¯æŒå‡ ä½•ç±»å‹çŠ¶æ€æ¢å¤
function fillShapeFormValues(cardElement, shape, index) {
    // ... ç°æœ‰ä»£ç  ...

    // å¦‚æœæœ‰åœ†å½¢å‚æ•°ï¼Œè®¾ç½®ä¸ºåœ†å½¢æ¨¡å¼ï¼ˆä¸ºé˜¶æ®µäºŒåšå‡†å¤‡ï¼‰
    if (shape._metadata && shape._metadata.source === 'circle') {
        const geometrySelect = cardElement.querySelector('.geometry-type-select');
        if (geometrySelect) {
            geometrySelect.value = 'circle';
            toggleGeometryInputs(index, 'circle');

            // æ¢å¤åœ†å½¢å‚æ•°
            const params = shape._metadata.params;
            cardElement.querySelector('[name*="center_x"]').value = params.center_x || 0;
            cardElement.querySelector('[name*="center_y"]').value = params.center_y || 0;
            cardElement.querySelector('[name*="radius"]').value = params.radius || 10;
            cardElement.querySelector('[name*="segments"]').value = params.segments || 64;
        }
    }
}
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] åœ†å½¢é¡¶ç‚¹ç”Ÿæˆç®—æ³•æ­£ç¡®å·¥ä½œ
- [ ] åŠ¨æ€è¡¨å•åˆ‡æ¢æ— å¡é¡¿
- [ ] å‚æ•°éªŒè¯å’Œé”™è¯¯æç¤ºæ­£å¸¸
- [ ] å®æ—¶é¡¶ç‚¹æ›´æ–°åŠŸèƒ½æ­£å¸¸

#### Day 5-7: é›†æˆæµ‹è¯•å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šåœ†å½¢å‚æ•° â†’ é¡¶ç‚¹ç”Ÿæˆ â†’ GDSè¾“å‡º
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼šè¾“å…¥æç¤ºã€é”™è¯¯å¤„ç†ã€ç•Œé¢ç»†èŠ‚
- [ ] å…¼å®¹æ€§æµ‹è¯•ï¼šç¡®ä¿ç°æœ‰åŠŸèƒ½ä¸å—å½±å“
- [ ] æ€§èƒ½æµ‹è¯•ï¼šå¤§åˆ†æ®µæ•°æ—¶çš„å“åº”æ€§èƒ½

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```javascript
// æµ‹è¯•ç”¨ä¾‹é›†åˆ
const testCases = [
    // åŸºæœ¬åœ†å½¢
    { centerX: 0, centerY: 0, radius: 10, segments: 64, expected: 'åº”ç”Ÿæˆ64ä¸ªé¡¶ç‚¹çš„æ­£åœ†' },

    // åç§»åœ†å½¢
    { centerX: 5, centerY: -3, radius: 15, segments: 32, expected: 'åº”ç”Ÿæˆ32ä¸ªé¡¶ç‚¹çš„åç§»åœ†' },

    // è¾¹ç•Œå€¼æµ‹è¯•
    { centerX: 0, centerY: 0, radius: 0.001, segments: 8, expected: 'æœ€å°åŠå¾„å’Œæœ€å°‘åˆ†æ®µ' },
    { centerX: 0, centerY: 0, radius: 1000, segments: 256, expected: 'å¤§åŠå¾„å’Œæœ€å¤šåˆ†æ®µ' },

    // é”™è¯¯å¤„ç†
    { centerX: 0, centerY: 0, radius: 0, segments: 64, expected: 'åº”æ˜¾ç¤ºåŠå¾„é”™è¯¯' },
    { centerX: 0, centerY: 0, radius: 10, segments: 300, expected: 'åº”è‡ªåŠ¨è°ƒæ•´ä¸ºé»˜è®¤åˆ†æ®µæ•°' }
];

function runCircleTests() {
    testCases.forEach((testCase, index) => {
        console.log(`æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ ${index + 1}: ${testCase.expected}`);
        try {
            const result = generateCircleVertices(
                testCase.centerX,
                testCase.centerY,
                testCase.radius,
                testCase.segments
            );
            console.log(`âœ… æµ‹è¯•é€šè¿‡: ç”Ÿæˆäº† ${result.split(':').length} ä¸ªé¡¶ç‚¹`);
        } catch (error) {
            console.log(`âš ï¸  é¢„æœŸé”™è¯¯: ${error.message}`);
        }
    });
}
```

**ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼š
```css
/* æ·»åŠ åˆ°ç°æœ‰CSSä¸­ */
.circle-params-container {
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 0.375rem;
    padding: 15px;
    margin-top: 10px;
}

.geometry-type-select {
    border-color: #4a6bdf;
}

.circle-params-container input:invalid {
    border-color: #dc3545;
}

.circle-params-container input:valid {
    border-color: #198754;
}

/* è¿‡æ¸¡åŠ¨ç”» */
.circle-params-container,
.vertices-container {
    transition: all 0.3s ease-in-out;
}
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] ç”Ÿæˆçš„GDSæ–‡ä»¶æ˜¾ç¤ºæ­£ç¡®çš„åœ†å½¢
- [ ] ç°æœ‰å¤šè¾¹å½¢å’Œç¯é˜µåˆ—åŠŸèƒ½æ­£å¸¸
- [ ] ç•Œé¢å“åº”æµç•…ï¼Œæ— æ˜æ˜¾å»¶è¿Ÿ

### Week 2: å®Œå–„å’Œä¼˜åŒ–

#### Day 8-10: ä»£ç å®¡æŸ¥å’Œæ–‡æ¡£æ›´æ–°
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] ä»£ç å®¡æŸ¥ï¼šæ£€æŸ¥ä»£ç è´¨é‡ã€æ€§èƒ½ã€å®‰å…¨æ€§
- [ ] å•å…ƒæµ‹è¯•ï¼šä¸ºæ–°å¢åŠŸèƒ½ç¼–å†™æµ‹è¯•ç”¨ä¾‹
- [ ] æ–‡æ¡£æ›´æ–°ï¼šæ›´æ–°ç”¨æˆ·æŒ‡å—å’Œå¼€å‘æ–‡æ¡£
- [ ] å…¼å®¹æ€§æµ‹è¯•ï¼šå¤šæµè§ˆå™¨ã€å¤šåˆ†è¾¨ç‡æµ‹è¯•

**ä»£ç å®¡æŸ¥æ£€æŸ¥ç‚¹**ï¼š
```javascript
// ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•
const codeReviewChecklist = [
    'âœ… å‡½æ•°å‘½åæ¸…æ™°ï¼ŒèŒè´£å•ä¸€',
    'âœ… é”™è¯¯å¤„ç†å®Œå–„ï¼Œç”¨æˆ·å‹å¥½',
    'âœ… æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…é¢‘ç¹DOMæ“ä½œ',
    'âœ… å†…å­˜ç®¡ç†ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨',
    'âœ… å®‰å…¨è€ƒè™‘ï¼šè¾“å…¥éªŒè¯å’ŒXSSé˜²æŠ¤',
    'âœ… å‘åå…¼å®¹ï¼šä¸å½±å“ç°æœ‰åŠŸèƒ½',
    'âœ… ä»£ç å¤ç”¨ï¼šåˆ©ç”¨ç°æœ‰æ¡†æ¶',
    'âœ… è°ƒè¯•å‹å¥½ï¼šå……åˆ†çš„æ—¥å¿—è¾“å‡º'
];
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ä»£ç å®¡æŸ¥é€šè¿‡æ‰€æœ‰æ£€æŸ¥ç‚¹
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°90%ä»¥ä¸Š
- [ ] æ–‡æ¡£æ›´æ–°å®Œæ•´å‡†ç¡®
- [ ] å¤šæµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•é€šè¿‡

## ğŸ”§ é˜¶æ®µäºŒï¼šåŠŸèƒ½å¢å¼ºï¼ˆWeek 3-4ï¼‰

### ç›®æ ‡
å®ç°ç­–ç•¥3çš„å…ƒæ•°æ®æ”¯æŒï¼Œä¸ºæœªæ¥æ‰©å±•å¥ å®šåŸºç¡€

### Week 3: å…ƒæ•°æ®å’Œåå‘ç¼–è¾‘

#### Day 1-3: å…ƒæ•°æ®ç»“æ„è®¾è®¡å’Œå®ç°
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] è®¾è®¡å…ƒæ•°æ®å­˜å‚¨æ ¼å¼
- [ ] å®ç°é…ç½®ç”Ÿæˆæ—¶çš„å…ƒæ•°æ®ä¿å­˜
- [ ] å®ç°é…ç½®åŠ è½½æ—¶çš„å…ƒæ•°æ®è§£æ
- [ ] ä¿®æ”¹YAMLåºåˆ—åŒ–é€»è¾‘

**å…ƒæ•°æ®ç»“æ„å®ç°**ï¼š
```javascript
// æ‰©å±•ç°æœ‰çš„ updateJSONFromForm å‡½æ•°
function updateJSONFromForm() {
    // ... ç°æœ‰ä»£ç  ...

    shapeCards.forEach((card, index) => {
        const shapeIndex = card.getAttribute('data-shape-index');
        const geometryType = card.querySelector('.geometry-type-select')?.value || 'vertices';

        // ... ç°æœ‰å½¢çŠ¶é…ç½®ä»£ç  ...

        if (geometryType === 'circle') {
            // è·å–åœ†å½¢å‚æ•°
            const centerX = parseFloat(card.querySelector(`[name="shapes[${shapeIndex}].circle.center_x"]`).value) || 0;
            const centerY = parseFloat(card.querySelector(`[name="shapes[${shapeIndex}].circle.center_y"]`).value) || 0;
            const radius = parseFloat(card.querySelector(`[name="shapes[${shapeIndex}].circle.radius"]`).value);
            const segments = parseInt(card.querySelector(`[name="shapes[${shapeIndex}].circle.segments"]`).value) || 64;

            // ç”Ÿæˆé¡¶ç‚¹
            if (radius > 0) {
                shape.vertices = generateCircleVertices(centerX, centerY, radius, segments);

                // ä¿å­˜å…ƒæ•°æ®
                shape._metadata = {
                    source: 'circle',
                    params: {
                        center_x: centerX,
                        center_y: centerY,
                        radius: radius,
                        segments: segments
                    },
                    generated_at: new Date().toISOString(),
                    version: '1.0'
                };
            }
        }

        config.shapes.push(shape);
    });

    // ... å…¶ä½™ä»£ç  ...
}
```

#### Day 4-6: åå‘ç¼–è¾‘åŠŸèƒ½å¼€å‘
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] å®ç°é…ç½®åŠ è½½æ—¶çš„UIçŠ¶æ€æ¢å¤
- [ ] å®ç°åœ†å½¢å‚æ•°çš„åå‘ç¼–è¾‘
- [ ] å¤„ç†æ— å…ƒæ•°æ®çš„æ—§é…ç½®æ–‡ä»¶
- [ ] å®ç°å…ƒæ•°æ®çš„å¢é‡æ›´æ–°

**åå‘ç¼–è¾‘å®ç°**ï¼š
```javascript
// ä¿®æ”¹ç°æœ‰çš„ updateFormFromJSON å‡½æ•°
function updateFormFromJSON() {
    // ... ç°æœ‰ä»£ç  ...

    // åˆ·æ–°å½¢çŠ¶å®¹å™¨æ—¶æ¢å¤å‡ ä½•ç±»å‹çŠ¶æ€
    refreshShapesContainer();

    // ä¸ºæ¯ä¸ªå½¢çŠ¶æ¢å¤UIçŠ¶æ€
    config.shapes.forEach((shape, index) => {
        restoreGeometryUIState(shape, index);
    });
}

// æ¢å¤å‡ ä½•UIçŠ¶æ€
function restoreGeometryUIState(shape, index) {
    const container = document.querySelector(`[data-shape-index="${index}"]`);
    if (!container) return;

    const geometrySelect = container.querySelector('.geometry-type-select');
    if (!geometrySelect) return;

    if (shape._metadata && shape._metadata.source === 'circle') {
        // è®¾ç½®ä¸ºåœ†å½¢æ¨¡å¼
        geometrySelect.value = 'circle';

        // æ¢å¤åœ†å½¢å‚æ•°
        const params = shape._metadata.params;
        container.querySelector('[name*="center_x"]').value = params.center_x || 0;
        container.querySelector('[name*="center_y"]').value = params.center_y || 0;
        container.querySelector('[name*="radius"]').value = params.radius || 10;
        container.querySelector('[name*="segments"]').value = params.segments || 64;

        // åˆ‡æ¢UIæ˜¾ç¤º
        toggleGeometryInputs(index, 'circle');

        console.log(`æ¢å¤åœ†å½¢çŠ¶æ€: å½¢çŠ¶${index}, å‚æ•°:`, params);
    } else {
        // é»˜è®¤ä¸ºé¡¶ç‚¹æ¨¡å¼
        geometrySelect.value = 'vertices';
        toggleGeometryInputs(index, 'vertices');
    }
}

// é…ç½®å…¼å®¹æ€§å¤„ç†
function ensureConfigCompatibility(configData) {
    if (!configData.shapes) return configData;

    configData.shapes.forEach((shape, index) => {
        // å¦‚æœæ²¡æœ‰å…ƒæ•°æ®ï¼Œæ ‡è®°ä¸ºé¡¶ç‚¹æº
        if (!shape._metadata) {
            shape._metadata = {
                source: 'vertices',
                generated_at: new Date().toISOString(),
                version: '1.0'
            };
        }

        // éªŒè¯å…ƒæ•°æ®å®Œæ•´æ€§
        if (shape._metadata.source === 'circle' && !shape._metadata.params) {
            console.warn(`å½¢çŠ¶${index}çš„åœ†å½¢å…ƒæ•°æ®ä¸å®Œæ•´ï¼Œå›é€€åˆ°é¡¶ç‚¹æ¨¡å¼`);
            shape._metadata.source = 'vertices';
        }
    });

    return configData;
}
```

#### Day 7-9: é…ç½®å…¼å®¹æ€§å’Œåç«¯é€‚é…
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åœ¨Flaskåç«¯æ·»åŠ å…ƒæ•°æ®å…¼å®¹æ€§å¤„ç†
- [ ] å®ç°YAMLåºåˆ—åŒ–æ—¶çš„å…ƒæ•°æ®ä¿ç•™
- [ ] æµ‹è¯•æ–°æ—§é…ç½®æ–‡ä»¶çš„äº’æ“ä½œæ€§
- [ ] ä¼˜åŒ–å…ƒæ•°æ®çš„å­˜å‚¨æ•ˆç‡

**åç«¯é€‚é…**ï¼š
```python
# åœ¨ web_gui/app.py ä¸­æ·»åŠ 
def process_metadata(config_data):
    """å¤„ç†é…ç½®å…ƒæ•°æ®ï¼Œç¡®ä¿åç«¯å…¼å®¹æ€§"""
    if isinstance(config_data, dict):
        # è®°å½•å…ƒæ•°æ®ç”¨äºè°ƒè¯•
        if '_metadata' in config_data:
            metadata = config_data['_metadata']
            logger.debug(f"Found shape metadata: source={metadata.get('source')}, "
                        f"generated_at={metadata.get('generated_at')}")

        # é€’å½’å¤„ç†åµŒå¥—ç»“æ„
        for key, value in config_data.items():
            if isinstance(value, (dict, list)):
                process_metadata(value)

    elif isinstance(config_data, list):
        for item in config_data:
            process_metadata(item)

    return config_data

# ä¿®æ”¹ç›¸å…³APIç«¯ç‚¹
@app.route('/api/generate-gds', methods=['POST'])
def generate_gds():
    try:
        config_data = request.json

        # å¤„ç†å…ƒæ•°æ®
        config_data = process_metadata(config_data)

        # ç¡®ä¿ring_widthå’Œring_spaceä¿æŒä¸ºå­—ç¬¦ä¸²ç±»å‹
        config_data = ensure_string_values(config_data)

        # ... å…¶ä½™å¤„ç†é€»è¾‘ä¸å˜ ...

    except Exception as e:
        return jsonify({"success": False, "error": str(e)}), 500

# ä¿®æ”¹YAMLä¿å­˜é€»è¾‘ï¼Œä¿ç•™å…ƒæ•°æ®
def save_config_with_metadata(config_data, file_path):
    """ä¿å­˜é…ç½®æ—¶ä¿ç•™å…ƒæ•°æ®"""
    # è‡ªå®šä¹‰YAML Dumperï¼Œå¤„ç†å…ƒæ•°æ®å­—æ®µ
    class MetadataPreservingDumper(yaml.SafeDumper):
        def represent_str(self, data):
            if '\n' in data:
                return self.represent_scalar('tag:yaml.org,2002:str', data, style='|')
            return self.represent_scalar('tag:yaml.org,2002:str', data)

        def represent_none(self, data):
            return self.represent_scalar('tag:yaml.org,2002:null', '')

    # æ·»åŠ è‡ªå®šä¹‰è¡¨ç¤ºå™¨
    MetadataPreservingDumper.add_representer(str, MetadataPreservingDumper.represent_str)
    MetadataPreservingDumper.add_representer(type(None), MetadataPreservingDumper.represent_none)

    with open(file_path, 'w', encoding='utf-8') as f:
        yaml.dump(config_data, f,
                 Dumper=MetadataPreservingDumper,
                 default_flow_style=False,
                 allow_unicode=True,
                 indent=2)
```

### Week 4: æ‰©å±•æ¶æ„å’Œæœ€ç»ˆæµ‹è¯•

#### Day 10-11: æ‰©å±•æ¶æ„å®ç°
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] å®ç°å›¾å½¢ç”Ÿæˆå™¨å·¥å‚æ¨¡å¼
- [ ] ä¸ºçŸ©å½¢ç­‰å½¢çŠ¶é¢„ç•™æ¥å£
- [ ] é‡æ„ä»£ç ä»¥æ”¯æŒæ–°å½¢çŠ¶ç±»å‹
- [ ] ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨

#### Day 12-14: å…¨é¢æµ‹è¯•å’Œéƒ¨ç½²å‡†å¤‡
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•ï¼šä»UIæ“ä½œåˆ°GDSæ–‡ä»¶ç”Ÿæˆ
- [ ] å‹åŠ›æµ‹è¯•ï¼šå¤§é‡åœ†å½¢å’Œå¤æ‚é…ç½®
- [ ] å›å½’æµ‹è¯•ï¼šç¡®ä¿ç°æœ‰åŠŸèƒ½å®Œå…¨æ­£å¸¸
- [ ] æ–‡æ¡£å®Œå–„ï¼šç”¨æˆ·æ‰‹å†Œã€APIæ–‡æ¡£ã€ç»´æŠ¤æ–‡æ¡£

## ğŸ“‹ éªŒæ”¶æ¸…å•

### åŠŸèƒ½éªŒæ”¶
- [ ] âœ… polygonç±»å‹æ”¯æŒåœ†å½¢å®šä¹‰
- [ ] âœ… ringsç±»å‹æ”¯æŒåœ†å½¢å®šä¹‰
- [ ] âœ… åœ†å½¢å‚æ•°æ­£ç¡®ç”Ÿæˆé¡¶ç‚¹åæ ‡
- [ ] âœ… ç”Ÿæˆçš„GDSæ–‡ä»¶æ˜¾ç¤ºæ­£ç¡®åœ†å½¢
- [ ] âœ… åŸæœ‰é¡¶ç‚¹å®šä¹‰åŠŸèƒ½å®Œå…¨æ­£å¸¸
- [ ] âœ… é…ç½®æ–‡ä»¶æ”¯æŒå…ƒæ•°æ®ä¿å­˜å’ŒåŠ è½½
- [ ] âœ… æ”¯æŒåœ†å½¢å‚æ•°çš„åå‘ç¼–è¾‘

### æŠ€æœ¯éªŒæ”¶
- [ ] âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–ç¨‹åº¦é«˜
- [ ] âœ… å‘åå…¼å®¹æ€§100%é€šè¿‡
- [ ] âœ… æ€§èƒ½æµ‹è¯•ï¼šå“åº”æ—¶é—´<500ms
- [ ] âœ… å†…å­˜æ³„æ¼æµ‹è¯•é€šè¿‡
- [ ] âœ… è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- [ ] âœ… ç§»åŠ¨ç«¯å“åº”å¼æµ‹è¯•é€šè¿‡

### ç”¨æˆ·ä½“éªŒéªŒæ”¶
- [ ] âœ… ç•Œé¢åˆ‡æ¢æµç•…ï¼Œæ— å¡é¡¿
- [ ] âœ… é”™è¯¯æç¤ºæ¸…æ™°å‡†ç¡®
- [ ] âœ… å‚æ•°è¾“å…¥æœ‰åˆç†çš„éªŒè¯
- [ ] âœ… æ“ä½œæµç¨‹ç›´è§‚æ˜“æ‡‚
- [ ] âœ… å¸®åŠ©æ–‡æ¡£å®Œæ•´å‡†ç¡®

### æ‰©å±•æ€§éªŒæ”¶
- [ ] âœ… æ”¯æŒæœªæ¥æ·»åŠ çŸ©å½¢ã€æ¤­åœ†ç­‰å½¢çŠ¶
- [ ] âœ… é…ç½®æ ¼å¼å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§
- [ ] âœ… ä»£ç æ¶æ„æ”¯æŒæ’ä»¶å¼æ‰©å±•
- [ ] âœ… APIè®¾è®¡ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## ğŸš¨ é£é™©ç®¡ç†

### æŠ€æœ¯é£é™©
1. **å…¼å®¹æ€§é£é™©**ï¼šæ–°åŠŸèƒ½å¯èƒ½å½±å“ç°æœ‰åŠŸèƒ½
   - **ç¼“è§£æªæ–½**ï¼šå……åˆ†çš„å›å½’æµ‹è¯•ï¼Œæ¸è¿›å¼éƒ¨ç½²

2. **æ€§èƒ½é£é™©**ï¼šå¤§åˆ†æ®µæ•°å¯èƒ½å¯¼è‡´å‰ç«¯å¡é¡¿
   - **ç¼“è§£æªæ–½**ï¼šè®¾ç½®åˆç†çš„åˆ†æ®µæ•°é™åˆ¶ï¼Œä¼˜åŒ–ç®—æ³•

3. **æ•°æ®é£é™©**ï¼šå…ƒæ•°æ®å¯èƒ½å¯¼è‡´é…ç½®æ–‡ä»¶è¿‡å¤§
   - **ç¼“è§£æªæ–½**ï¼šå…ƒæ•°æ®å‹ç¼©ï¼Œå¯é€‰ä¿å­˜æ¨¡å¼

### è¿›åº¦é£é™©
1. **å¼€å‘å»¶æœŸ**ï¼šåŠŸèƒ½å¤æ‚åº¦å¯èƒ½è¶…å‡ºé¢„æœŸ
   - **ç¼“è§£æªæ–½**ï¼šåˆ†é˜¶æ®µäº¤ä»˜ï¼Œå…³é”®åŠŸèƒ½ä¼˜å…ˆ

2. **æµ‹è¯•ä¸å……åˆ†**ï¼šæ—¶é—´ç´§å¼ å¯èƒ½å¯¼è‡´æµ‹è¯•è¦†ç›–ä¸è¶³
   - **ç¼“è§£æªæ–½**ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¹¶è¡Œå¼€å‘å’Œæµ‹è¯•

### ç”¨æˆ·æ¥å—åº¦é£é™©
1. **å­¦ä¹ æˆæœ¬**ï¼šæ–°åŠŸèƒ½å¯èƒ½å¢åŠ ç”¨æˆ·å­¦ä¹ è´Ÿæ‹…
   - **ç¼“è§£æªæ–½**ï¼šç›´è§‚çš„UIè®¾è®¡ï¼Œå®Œå–„çš„å¸®åŠ©æ–‡æ¡£

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- ä»£ç è¦†ç›–ç‡ â‰¥ 90%
- é¡µé¢å“åº”æ—¶é—´ â‰¤ 500ms
- å†…å­˜ä½¿ç”¨å¢é•¿ â‰¤ 10%
- å‘åå…¼å®¹æ€§ = 100%

### ä¸šåŠ¡æŒ‡æ ‡
- ç”¨æˆ·æ»¡æ„åº¦ â‰¥ 95%
- åŠŸèƒ½ä½¿ç”¨ç‡ â‰¥ 60%
- é”™è¯¯æŠ¥å‘Šæ•°é‡ â‰¤ 5ä¸ª/æœˆ
- åŠŸèƒ½å®Œæˆåº¦ = 100%

### ç»´æŠ¤æŒ‡æ ‡
- ä»£ç å¯ç»´æŠ¤æ€§è¯„åˆ† â‰¥ Açº§
- æ–‡æ¡£å®Œæ•´æ€§ â‰¥ 95%
- æ–°æ‰‹ä¸Šæ‰‹æ—¶é—´ â‰¤ 30åˆ†é’Ÿ
- æ‰©å±•æ–°å½¢çŠ¶æ—¶é—´ â‰¤ 2å¤©

è¿™ä¸ªè¯¦ç»†çš„å®æ–½è®¡åˆ’ä¸ºSummer-GDSåœ†å½¢æ”¯æŒåŠŸèƒ½æä¾›äº†æ¸…æ™°çš„å¼€å‘è·¯å¾„å’Œè´¨é‡ä¿è¯æªæ–½ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤ŸæŒ‰æ—¶ã€é«˜è´¨é‡åœ°äº¤ä»˜ã€‚